<html>
    <head>
        <title>Journal</title>
        <link rel="stylesheet" href="../bootstrap-3.3.7/dist/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="database.json"></script>
    </head>

    <body onload="show_journal()">
        <div id="journal_div"></div>
        
        <script>
            
            function create_journal(row, col, head, data){
                var journal="";

                journal = "<table id='journal' class='table table-hover'>";

                journal += "<thead>";
                journal += "<tr>";
                for(i=0; i<col; i++){
                    journal+="<th>"+head[i]+"</th>";
                }//for head
                journal+="</tr>";
                journal+="</thead>";

                journal += "<tbody>";
                for(i=0; i<row; i++){
                    journal += "<tr>";
                    journal += "<td><input type='text'></td>";
                    for (j = 3; j < col; j++) {
                        journal += "<td><select><option disabled selected value> -- select an option -- </option></select></td>";
                    }//for col
                    for(k=0; k<2; k++){
                        journal += "<td><input type='text'></td>";
                    }//for debit
                    journal += "</tr>";
                }//for row
                journal += "</tbody>";
                journal += "</table>";
                return journal;
            }//create_journal()

            function create_button(func, val){
                var button="";
                button="<button onclick="+func+" class='btn btn-primary'>"+val+"</button>";
                return button;
            }//create_button()

            function create_row(journal, col) {
                    row = journal.insertRow(-1);
                    td = "";
                    td += "<td><input type='text'></td>";
                    for (j = 3; j < col; j++) {
                        td += "<td><select><option disabled selected value> -- select an option -- </option></select></td>";
                    }//for col
                    for (k = 0; k < 2; k++) {
                        td += "<td><input type='text'></td>";
                    }//for debit
                    row.innerHTML=td;
                }//create_row

            function show_journal(){
                $.getJSON("database.json", {},function(data) {
                    alert(data);
                    head=["Number", "Type", "Sub-type", "GL Account", "Debit", "Credit"];
                    html="";
                    journal=create_journal(2, 6, head, data);
                    add_row_button=create_button("'create_row(document.getElementById(\"journal\"), 6)'", "More");
                    post_button=create_button("'post_entries(document.getElementById(\"journal\"))'", "Post");
                    html=journal+add_row_button+post_button;
                    document.getElementById("journal_div").innerHTML=html;
                });
            }//show_journal()
        </script>
    </body>
</html>